<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Edit patient</title>
  <th:block th:include="header :: header"></th:block>
  <link th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}" rel="stylesheet">
  <script th:src="@{/webjars/jquery/3.6.4/jquery.min.js}"></script>
  <script th:src="@{/webjars/bootstrap/5.3.0/js/bootstrap.bundle.min.js}"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    .form-group {
      margin-bottom: 1rem;
    }
    .btn-primary {
      margin-top: 1rem;
    }
    .alert-danger {
      display: none;
    }
  </style>
</head>
<body>
<div class="container mt-4">
  <h1 class="mb-3">
    <span th:text="'Edit '+${client.firstName}"></span>
    <span th:text="' ' + ${client.lastName}+' Information'"></span>
  </h1>



  <form id="edit-client-form" th:action="@{/clients/edit}" th:object="${client}" method="post" enctype="multipart/form-data" class="needs-validation">
    <input type="hidden" th:field="*{id}"/>


    <div class="alert alert-danger d-block" th:if="${#fields.hasErrors('firstName')}">
      <span th:errors="*{firstName}"></span>
    </div>
    <div class="form-group row mb-3">
      <label for="firstName" class="col-sm-2 col-form-label">First Name:</label>
      <div class="col-sm-10">
        <input type="text" id="firstName" th:field="*{firstName}" class="form-control" required/>
      </div>
    </div>



    <!-- Last Name -->
    <div class="form-group row">
      <label for="lastName" class="col-sm-2 col-form-label">Last Name:</label>
      <div class="col-sm-10">
        <input type="text" id="lastName" th:field="*{lastName}" class="form-control" required/>
      </div>
    </div>


    <!-- Phone Number -->
    <div class="form-group row">
      <label for="phoneNumber" class="col-sm-2 col-form-label">Phone Number:</label>
      <div class="col-sm-10">
        <input type="text" id="phoneNumber" th:field="*{phoneNumber}" class="form-control"/>
      </div>
    </div>



    <!-- Age -->
    <div class="form-group row">
      <label for="age" class="col-sm-2 col-form-label">Age:</label>
      <div class="col-sm-10">
        <input type="number" id="age" th:field="*{age}" class="form-control"/>
      </div>
    </div>



    <!-- Attachments (Edit Images) -->
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Attachments:</label>
      <div class="col-sm-10">
        <a href="/clients/images/edit?id=" th:href="@{/clients/images/edit(id=${client.id})}" class="form-control-file btn btn-outline-primary">Edit Attachments</a>
      </div>
    </div>

    <!-- Save Button -->
    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="/clients/view?id=" th:href="@{/clients/view(id=${client.id})}" class="btn btn-outline-primary mt-3">Back to Patient Details</a>
  </form>

  <!-- Back to Client Details -->
</div>


</body>
</html>
